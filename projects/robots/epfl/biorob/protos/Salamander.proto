#VRML_SIM R2021a utf8
# license: Copyright Cyberbotics Ltd. Licensed for use only with Webots.
# license url: https://cyberbotics.com/webots_assets_license
# documentation url: https://www.cyberbotics.com/doc/guide/salamander
# The "Salamander" robot is a salamander-like robot developed by the EPFL BioRob laboratory.

PROTO Salamander [
  field SFVec3f    translation     0 0 0        # Is `Transform.translation`.
  field SFRotation rotation        0 1 0 0      # Is `Transform.rotation`.
  field SFString   name            "Salamander" # Is `Solid.name`.
  field SFString   controller      "salamander" # Is `Robot.controller`.
  field MFString   controllerArgs  []           # Is `Robot.controllerArgs`.
  field SFString   customData      ""           # Is `Robot.customData`.
  field SFBool     supervisor      FALSE        # Is `Robot.supervisor`.
  field SFBool     synchronization TRUE         # Is `Robot.synchronization`.
  field MFNode     extensionSlot   []           # Extends the robot with new nodes in the extension slot.
]
{
  Robot {
    translation IS translation
    rotation IS rotation
    controller IS controller
    controllerArgs IS controllerArgs
    customData IS customData
    supervisor IS supervisor
    synchronization IS synchronization
    name IS name
    children [
      Group {
        children IS extensionSlot
      }
      GPS {
      }
      DEF SMALL_SEGMENT Group {
        children [
          Transform {
            children [
              Shape {
                appearance DEF SALAMANDER_COLOR PBRAppearance {
                  baseColor 1 0.8 0.3
                  roughness 0.3
                  metalness 0
                }
                geometry Cylinder {
                  height 0.0561
                  radius 0.019
                }
              }
            ]
          }
          Transform {
            translation 0 0 0.038
            children [
              Shape {
                appearance USE SALAMANDER_COLOR
                geometry Box {
                  size 0.038 0.056 0.076
                }
              }
            ]
          }
        ]
      }
      DEF LEFT_EYE DistanceSensor {
        translation -0.02 0.03 0
        rotation 0 1 0 2.356
        children [
          DEF EYE_SHAPE Shape {
            appearance DEF EYE_APPEARANCE PBRAppearance {
              baseColor 0.2 0.2 0.2
              roughness 0.2
              metalness 0
            }
            geometry Sphere {
              radius 0.005
              subdivision 2
            }
          }
        ]
        name "ds_left"
        lookupTable [
          0 0 0
          0.7 0.7 0
        ]
        numberOfRays 6
        aperture 0.8
      }
      DEF RIGHT_EYE DistanceSensor {
        translation 0.02 0.03 0
        rotation 0 1 0 0.785
        children [
          USE EYE_SHAPE
        ]
        name "ds_right"
        lookupTable [
          0 0 0
          0.7 0.7 0
        ]
        numberOfRays 6
        aperture 0.8
      }
      DEF EPUCK_CAMERA Camera {
      # translation 0 0.028 -0.03
      translation 0 0.1 0.3
      rotation IS camera_rotation
      children [
        Transform {
          rotation 0 0.707107 0.707107 3.14159
          children [
            Transform {
              rotation IS camera_rotation
              children [
                Shape {
                  appearance PBRAppearance {
                    baseColor 0 0 0
                    roughness 0.4
                    metalness 0
                  }
                  geometry IndexedFaceSet {
                    coord Coordinate {
                      point [
                        -0.003 -0.000175564 0.003 -0.003 -0.00247555 -0.003 -0.003 -0.00247555 -4.65661e-09 -0.003 -0.00247555 0.003 -0.003 -2.55639e-05 0.0035 -0.003 -2.55639e-05 -0.003 -0.003 0.000427256 0.00574979 -0.003 -0.000175564 0.0035 -0.003 0.000557156 0.0056748 -0.003 0.00207465 0.00739718 -0.003 0.00214964 0.00726728 -0.003 0.00432444 0.008 -0.003 0.00432444 0.00785 -0.003 0.00757444 0.008 -0.003 0.00757444 0.0095 -0.003 0.0115744 0.0095 -0.003 0.0115744 0.008 -0.003 0.0128244 0.008 -0.003 0.0128244 0.00785 0.003 -2.55639e-05 -0.003 0.003 -0.000175564 0.0035 0.003 -0.000175564 0.003 0.003 -0.00247555 0.003 0.003 -0.00247555 -4.65661e-09 0.003 -0.00247555 -0.003 0.003 -2.55639e-05 0.0035 0.003 0.000427256 0.00574979 0.003 0.000557156 0.0056748 0.003 0.00207465 0.00739718 0.003 0.00214964 0.00726728 0.003 0.00432444 0.00785 0.003 0.00432444 0.008 0.003 0.0115744 0.0095 0.003 0.00757444 0.0095 0.003 0.0115744 0.008 0.003 0.00757444 0.008 0.003 0.0128244 0.00785 0.003 0.0128244 0.008 0 -0.00247555 -0.003 -0.00149971 -0.00247555 -0.0025982 0.00149971 -0.00247555 -0.0025982 0.00259801 -0.00247555 -0.00150004 -0.00259801 -0.00247555 -0.00150004 0.00149971 -0.00247555 0.00259821 0.00259801 -0.00247555 0.00150005 0 -0.00247555 0.003 -0.00149971 -0.00247555 0.00259821 -0.00259801 -0.00247555 0.00150005 0.00212127 -0.00377555 0.00212128 0 -0.00377555 0.003 -0.00212127 -0.00377555 0.00212128 -0.0015 -0.00377555 0.002 -0.002 -0.00377555 0.0015 -0.003 -0.00377555 -4.65661e-09 0.0015 -0.00377555 0.002 0.002 -0.00377555 0.0015 0.003 -0.00377555 -4.65661e-09 -0.002 -0.00377555 -0.0015 0.002 -0.00377555 -0.0015 -0.00212127 -0.00377555 -0.0021213 0.0015 -0.00377555 -0.002 -0.0015 -0.00377555 -0.002 0.00212127 -0.00377555 -0.0021213 0 -0.00377555 -0.003 -0.00256063 -0.00377555 0.00106064 -0.00106063 -0.00377555 0.00256064 0.00106063 -0.00377555 0.00256064 0.00256063 -0.00377555 0.00106064 0.00256063 -0.00377555 -0.00106063 0.00106063 -0.00377555 -0.0025606 -0.00106063 -0.00377555 -0.0025606 -0.00256063 -0.00377555 -0.00106063 0.0015 -0.00417556 -0.002 0.002 -0.00417556 -0.0015 -0.0015 -0.00417556 -0.002 -0.002 -0.00417556 -0.0015 0.002 -0.00417556 0.0015 0 -0.00417556 0.000245125 0.00021198 -0.00417556 0.000122716 0.00021198 -0.00417556 -0.000122714 0 -0.00417556 -0.000245124 -0.00021198 -0.00417556 -0.000122714 -0.00021198 -0.00417556 0.000122716 -0.002 -0.00417556 0.0015 0.0015 -0.00417556 0.002 -0.0015 -0.00417556 0.002
                      ]
                    }
                    coordIndex [
                      33, 14, 35, -1, 13, 35, 14, -1, 15, 32, 16, -1, 34, 16, 32, -1, 14, 33, 15, -1, 32, 15, 33, -1, 72, 74, 60, -1, 61, 60, 74, -1, 74, 75, 61, -1, 57, 61, 75, -1, 75, 83, 57, -1, 52, 57, 83, -1, 83, 85, 52, -1, 51, 52, 85, -1, 85, 84, 51, -1, 54, 51, 84, -1, 84, 76, 54, -1, 55, 54, 76, -1, 76, 73, 55, -1, 58, 55, 73, -1, 73, 72, 58, -1, 60, 58, 72, -1, 72, 73, 74, -1, 75, 74, 73, -1, 76, 77, 78, -1, 76, 78, 79, -1, 79, 80, 75, -1, 79, 75, 73, -1, 73, 76, 79, -1, 75, 80, 81, -1, 75, 81, 82, -1, 82, 77, 76, -1, 82, 76, 83, -1, 83, 75, 82, -1, 76, 84, 83, -1, 85, 83, 84, -1, 56, 68, 23, -1, 41, 23, 68, -1, 68, 62, 41, -1, 40, 41, 62, -1, 62, 69, 40, -1, 40, 69, 63, -1, 38, 40, 63, -1, 63, 70, 38, -1, 39, 38, 70, -1, 70, 59, 39, -1, 42, 39, 59, -1, 59, 71, 42, -1, 42, 71, 53, -1, 2, 42, 53, -1, 53, 64, 2, -1, 47, 2, 64, -1, 64, 50, 47, -1, 46, 47, 50, -1, 50, 65, 46, -1, 46, 65, 49, -1, 45, 46, 49, -1, 49, 66, 45, -1, 43, 45, 66, -1, 66, 48, 43, -1, 44, 43, 48, -1, 48, 67, 44, -1, 44, 67, 56, -1, 23, 44, 56, -1, 48, 49, 50, -1, 51, 48, 50, -1, 52, 51, 50, -1, 50, 53, 52, -1, 48, 51, 54, -1, 48, 54, 55, -1, 56, 48, 55, -1, 57, 52, 53, -1, 55, 58, 56, -1, 59, 60, 61, -1, 59, 61, 57, -1, 53, 59, 57, -1, 60, 59, 62, -1, 58, 60, 62, -1, 62, 56, 58, -1, 59, 63, 62, -1, 0, 45, 22, -1, 21, 0, 22, -1, 45, 0, 3, -1, 38, 39, 1, -1, 40, 38, 24, -1, 41, 40, 24, -1, 24, 23, 41, -1, 1, 39, 42, -1, 2, 1, 42, -1, 22, 43, 44, -1, 23, 22, 44, -1, 45, 43, 22, -1, 46, 45, 3, -1, 47, 46, 3, -1, 3, 2, 47, -1, 20, 26, 7, -1, 6, 7, 26, -1, 26, 28, 6, -1, 9, 6, 28, -1, 28, 31, 9, -1, 11, 9, 31, -1, 31, 35, 11, -1, 13, 11, 35, -1, 34, 37, 16, -1, 17, 16, 37, -1, 36, 18, 37, -1, 17, 37, 18, -1, 36, 30, 18, -1, 12, 18, 30, -1, 4, 8, 25, -1, 27, 25, 8, -1, 8, 10, 27, -1, 29, 27, 10, -1, 10, 12, 29, -1, 30, 29, 12, -1, 25, 19, 4, -1, 5, 4, 19, -1, 24, 38, 19, -1, 19, 38, 1, -1, 5, 19, 1, -1, 20, 7, 21, -1, 0, 21, 7, -1, 19, 20, 21, -1, 19, 21, 22, -1, 19, 22, 23, -1, 24, 19, 23, -1, 20, 19, 25, -1, 26, 20, 25, -1, 25, 27, 26, -1, 28, 26, 27, -1, 27, 29, 28, -1, 28, 29, 30, -1, 31, 28, 30, -1, 32, 33, 34, -1, 34, 33, 35, -1, 36, 34, 35, -1, 36, 35, 31, -1, 30, 36, 31, -1, 37, 34, 36, -1, 0, 1, 2, -1, 3, 0, 2, -1, 0, 4, 5, -1, 1, 0, 5, -1, 4, 0, 6, -1, 6, 0, 7, -1, 8, 4, 6, -1, 6, 9, 8, -1, 10, 8, 9, -1, 9, 11, 10, -1, 12, 10, 11, -1, 11, 13, 12, -1, 14, 15, 13, -1, 13, 15, 16, -1, 12, 13, 16, -1, 12, 16, 17, -1, 18, 12, 17, -1
                    ]
                    creaseAngle 0.785398
                  }
                }
              ]
            }
          ]
        }
      ]
      fieldOfView IS camera_fieldOfView
      width IS camera_width
      height IS camera_height
      near 0.0055
      antiAliasing IS camera_antiAliasing
      motionBlur IS camera_motionBlur
      noise IS camera_noise
      zoom Zoom {
      }
    }
      HingeJoint {  # Simulation of backlash.
        jointParameters HingeJointParameters {
          axis 0 1 0
          anchor 0 0 0.108
          minStop -0.0001
          maxStop 0.0001
        }
        endPoint DEF SOLID_THORAX Solid {
          translation 0 0 0.108
          children [
            DEF BIG_SEGMENT Group {
              children [
                Transform {
                  children [
                    Shape {
                      appearance USE SALAMANDER_COLOR
                      geometry Cylinder {
                        height 0.0561
                        radius 0.032
                      }
                    }
                  ]
                }
                Transform {
                  translation 0 0 0.0235
                  children [
                    Shape {
                      appearance USE SALAMANDER_COLOR
                      geometry Box {
                        size 0.064 0.056 0.047
                      }
                    }
                  ]
                }
              ]
            }
            DEF HINGE_JOINT_LEG_1 HingeJoint {
              jointParameters HingeJointParameters {
                anchor -0.032 0 0.02
              }
              device [
                RotationalMotor {
                  name "motor_leg_1"
                  maxVelocity 20
                  maxTorque 100
                }
              ]
              endPoint DEF SOLID_LEG_1 Solid {
                translation -0.032 0 0.02
                rotation 1 0 0 0
                children [
                  DEF GROUP_FEMUR_1 Group {
                    children [
                      DEF TRANSFORM_HIP_1 Transform {
                        translation -0.004 0 0
                        rotation 0 0 1 1.5708
                        children [
                          DEF SHAPE_HIP Shape {
                            appearance DEF LEG_COLOR PBRAppearance {
                              baseColor 0.2 0.2 0.2
                              roughness 0.2
                              metalness 0
                            }
                            geometry Cylinder {
                              height 0.008
                              radius 0.00975
                            }
                          }
                        ]
                      }
                      DEF TRANSFORM_FEMUR_1 Transform {
                        translation -0.016 0 0
                        rotation 0 0 1 1.5708
                        children [
                          DEF FEMUR Shape {
                            appearance USE LEG_COLOR
                            geometry Capsule {
                              height 0.016
                              radius 0.00575
                            }
                          }
                        ]
                      }
                    ]
                  }
                  DEF JOINT_TIBIA_1 Solid {
                    translation -0.024 0 0
                    rotation 0 0 1 1.0472
                    children [
                      DEF GROUP_TIBIA_1 Group {
                        children [
                          DEF TRANSFORM_TIBIA_1 Transform {
                            translation -0.0225 0 0
                            rotation 0 0 1 1.5708
                            children [
                              DEF TIBIA Shape {
                                appearance USE LEG_COLOR
                                geometry Capsule {
                                  height 0.042
                                  radius 0.00575
                                }
                              }
                            ]
                          }
                          DEF TRANSFORM_FOOT_1 Transform {
                            translation -0.045 -0.002 -0.0055
                            rotation 0 0 1 -1.0472
                            children [
                              DEF FOOT Shape {
                                appearance USE LEG_COLOR
                                geometry Cylinder {
                                  height 0.0075
                                  radius 0.013
                                }
                              }
                            ]
                          }
                        ]
                      }
                    ]
                    contactMaterial "leg"
                    immersionProperties [
                      DEF IMMERSION_PROP_TIBIA ImmersionProperties {
                        fluidName "fluid"
                        dragForceCoefficients 0.95 0.15 0.15
                      }
                    ]
                    boundingObject USE GROUP_TIBIA_1
                    physics Physics {
                      density -1
                      mass 0.0045704
                      centerOfMass [
                        -0.03 0 0
                      ]
                      inertiaMatrix [
                        2.59057e-7 1.32103e-6 1.25007e-6
                        -2.73481e-8 -1.64256e-7 -2.19008e-8
                      ]
                    }
                  }
                ]
                name "leg 1"
                contactMaterial "body"
                immersionProperties [
                  DEF IMMERSION_PROP_FEMUR ImmersionProperties {
                    fluidName "fluid"
                    dragForceCoefficients 0 0.15 0.15
                  }
                ]
                boundingObject USE GROUP_FEMUR_1
                physics Physics {
                  density -1
                  mass 0.00242371
                  centerOfMass [
                    -0.012 0 0
                  ]
                  inertiaMatrix [
                    7.57828e-8 1.99961e-7 1.99961e-7
                    -1.03066e-13 0 0
                  ]
                }
              }
            }
            DEF HINGE_JOINT_LEG_2 HingeJoint {
              jointParameters HingeJointParameters {
                anchor 0.032 0 0.02
              }
              device [
                RotationalMotor {
                  name "motor_leg_2"
                  maxVelocity 20
                  maxTorque 100
                }
              ]
              endPoint DEF SOLID_LEG_2 Solid {
                translation 0.032 0 0.02
                rotation 1 0 0 3.14159
                children [
                  DEF GROUP_FEMUR_2 Group {
                    children [
                      DEF TRANSFORM_HIP_2 Transform {
                        translation 0.004 0 0
                        rotation 0 0 1 1.5708
                        children [
                          USE SHAPE_HIP
                        ]
                      }
                      DEF TRANSFORM_FEMUR_2 Transform {
                        translation 0.016 0 0
                        rotation 0 0 1 1.5708
                        children [
                          DEF FEMUR Shape {
                            appearance USE LEG_COLOR
                            geometry Capsule {
                              height 0.016
                              radius 0.00575
                            }
                          }
                        ]
                      }
                    ]
                  }
                  DEF JOINT_TIBIA_2 Solid {
                    translation 0.024 0 0
                    rotation 0 0 1 1.0472
                    children [
                      DEF GROUP_TIBIA_2 Group {
                        children [
                          DEF TRANSFORM_TIBIA_2 Transform {
                            translation 0.0225 0 0
                            rotation 0 0 1 1.5708
                            children [
                              DEF TIBIA Shape {
                                appearance USE LEG_COLOR
                                geometry Capsule {
                                  height 0.042
                                  radius 0.00575
                                }
                              }
                            ]
                          }
                          DEF TRANSFORM_FOOT_2 Transform {
                            translation 0.045 0.002 0.0055
                            rotation 0 0 1 -1.0472
                            children [
                              DEF FOOT Shape {
                                appearance USE LEG_COLOR
                                geometry Cylinder {
                                  height 0.0075
                                  radius 0.013
                                }
                              }
                            ]
                          }
                        ]
                      }
                    ]
                    contactMaterial "leg"
                    immersionProperties [
                      USE IMMERSION_PROP_TIBIA
                    ]
                    boundingObject USE GROUP_TIBIA_2
                    physics Physics {
                      density -1
                      mass 0.0045704
                      centerOfMass [
                        0.03 0 0
                      ]
                      inertiaMatrix [
                        2.59057e-7 1.32103e-6 1.25007e-6
                        -2.73481e-8 -1.64256e-7 -2.19008e-8
                      ]
                    }
                  }
                ]
                name "leg 2"
                contactMaterial "body"
                immersionProperties [
                  USE IMMERSION_PROP_FEMUR
                ]
                boundingObject USE GROUP_FEMUR_2
                physics Physics {
                  density -1
                  mass 0.00242371
                  centerOfMass [
                    0.012 0 0
                  ]
                  inertiaMatrix [
                    7.57828e-8 1.99961e-7 1.99961e-7
                    -1.03066e-13 0 0
                  ]
                }
              }
            }
            HingeJoint {
              jointParameters HingeJointParameters {
                axis 0 1 0
                anchor 0 0 0.066
              }
              device [
                RotationalMotor {
                  name "motor_1"
                  minPosition -1.13446
                  maxPosition 1.13446
                  maxTorque 100
                }
              ]
              endPoint DEF SEGMENT_1 Solid {
                translation 0 0 0.066
                children [
                  USE SMALL_SEGMENT
                  HingeJoint {
                    jointParameters HingeJointParameters {
                      axis 0 1 0
                      anchor 0 0 0.095
                    }
                    device [
                      RotationalMotor {
                        name "motor_2"
                        minPosition -1.13446
                        maxPosition 1.13446
                        maxTorque 100
                      }
                    ]
                    endPoint DEF SEGMENT_2 Solid {
                      translation 0 0 0.095
                      children [
                        USE SMALL_SEGMENT
                        HingeJoint {
                          jointParameters HingeJointParameters {
                            axis 0 1 0
                            anchor 0 0 0.095
                          }
                          device [
                            RotationalMotor {
                              name "motor_3"
                              minPosition -1.13446
                              maxPosition 1.13446
                              maxTorque 100
                            }
                          ]
                          endPoint DEF SEGMENT_3 Solid {
                            translation 0 0 0.095
                            children [
                              USE SMALL_SEGMENT
                              HingeJoint {  # Simulation of backlash.
                                jointParameters HingeJointParameters {
                                  axis 0 1 0
                                  anchor 0 0 0.108
                                  minStop -0.0001
                                  maxStop 0.0001
                                }
                                endPoint DEF SEGMENT_PELVIS Solid {
                                  translation 0 0 0.108
                                  children [
                                    USE BIG_SEGMENT
                                    DEF HINGE_JOINT_LEG_3 HingeJoint {
                                      jointParameters HingeJointParameters {
                                        anchor -0.032 0 0.02
                                      }
                                      device [
                                        RotationalMotor {
                                          name "motor_leg_3"
                                          maxVelocity 20
                                          maxTorque 100
                                        }
                                      ]
                                      endPoint DEF SOLID_LEG_3 Solid {
                                        translation -0.032 0 0.02
                                        rotation 1 0 0 0
                                        children [
                                          DEF GROUP_FEMUR_3 Group {
                                            children [
                                              DEF TRANSFORM_HIP_3 Transform {
                                                translation -0.004 0 0
                                                rotation 0 0 1 1.5708
                                                children [
                                                  USE SHAPE_HIP
                                                ]
                                              }
                                              DEF TRANSFORM_FEMUR_3 Transform {
                                                translation -0.016 0 0
                                                rotation 0 0 1 1.5708
                                                children [
                                                  DEF FEMUR Shape {
                                                    appearance USE LEG_COLOR
                                                    geometry Capsule {
                                                      height 0.016
                                                      radius 0.00575
                                                    }
                                                  }
                                                ]
                                              }
                                            ]
                                          }
                                          DEF JOINT_TIBIA_3 Solid {
                                            translation -0.024 0 0
                                            rotation 0 0 1 1.0472
                                            children [
                                              DEF GROUP_TIBIA_3 Group {
                                                children [
                                                  DEF TRANSFORM_TIBIA_3 Transform {
                                                    translation -0.0225 0 0
                                                    rotation 0 0 1 1.5708
                                                    children [
                                                      DEF TIBIA Shape {
                                                        appearance USE LEG_COLOR
                                                        geometry Capsule {
                                                          height 0.042
                                                          radius 0.00575
                                                        }
                                                      }
                                                    ]
                                                  }
                                                  DEF TRANSFORM_FOOT_3 Transform {
                                                    translation -0.045 -0.002 -0.0055
                                                    rotation 0 0 1 -1.0472
                                                    children [
                                                      DEF FOOT Shape {
                                                        appearance USE LEG_COLOR
                                                        geometry Cylinder {
                                                          height 0.0075
                                                          radius 0.013
                                                        }
                                                      }
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                            contactMaterial "leg"
                                            immersionProperties [
                                              USE IMMERSION_PROP_TIBIA
                                            ]
                                            boundingObject USE GROUP_TIBIA_3
                                            physics Physics {
                                              density -1
                                              mass 0.0045704
                                              centerOfMass [
                                                -0.03 0 0
                                              ]
                                              inertiaMatrix [
                                                2.59057e-7 1.32103e-6 1.25007e-6
                                                -2.73481e-8 -1.64256e-7 -2.19008e-8
                                              ]
                                            }
                                          }
                                        ]
                                        name "leg 3"
                                        contactMaterial "body"
                                        immersionProperties [
                                          USE IMMERSION_PROP_FEMUR
                                        ]
                                        boundingObject USE GROUP_FEMUR_3
                                        physics Physics {
                                          density -1
                                          mass 0.00242371
                                          centerOfMass [
                                            -0.012 0 0
                                          ]
                                          inertiaMatrix [
                                            7.57828e-8 1.99961e-7 1.99961e-7
                                            -1.03066e-13 0 0
                                          ]
                                        }
                                      }
                                    }
                                    DEF HINGE_JOINT_LEG_4 HingeJoint {
                                      jointParameters HingeJointParameters {
                                        anchor 0.032 0 0.02
                                      }
                                      device [
                                        RotationalMotor {
                                          name "motor_leg_4"
                                          maxVelocity 20
                                          maxTorque 100
                                        }
                                      ]
                                      endPoint DEF SOLID_LEG_4 Solid {
                                        translation 0.032 0 0.02
                                        rotation 1 0 0 3.14159
                                        children [
                                          DEF GROUP_FEMUR_4 Group {
                                            children [
                                              DEF TRANSFORM_HIP_4 Transform {
                                                translation 0.004 0 0
                                                rotation 0 0 1 1.5708
                                                children [
                                                  USE SHAPE_HIP
                                                ]
                                              }
                                              DEF TRANSFORM_FEMUR_4 Transform {
                                                translation 0.016 0 0
                                                rotation 0 0 1 1.5708
                                                children [
                                                  DEF FEMUR Shape {
                                                    appearance USE LEG_COLOR
                                                    geometry Capsule {
                                                      height 0.016
                                                      radius 0.00575
                                                    }
                                                  }
                                                ]
                                              }
                                            ]
                                          }
                                          DEF JOINT_TIBIA_4 Solid {
                                            translation 0.024 0 0
                                            rotation 0 0 1 1.0472
                                            children [
                                              DEF GROUP_TIBIA_4 Group {
                                                children [
                                                  DEF TRANSFORM_TIBIA_4 Transform {
                                                    translation 0.0225 0 0
                                                    rotation 0 0 1 1.5708
                                                    children [
                                                      DEF TIBIA Shape {
                                                        appearance USE LEG_COLOR
                                                        geometry Capsule {
                                                          height 0.042
                                                          radius 0.00575
                                                        }
                                                      }
                                                    ]
                                                  }
                                                  DEF TRANSFORM_FOOT_4 Transform {
                                                    translation 0.045 0.002 0.0055
                                                    rotation 0 0 1 -1.0472
                                                    children [
                                                      DEF FOOT Shape {
                                                        appearance USE LEG_COLOR
                                                        geometry Cylinder {
                                                          height 0.0075
                                                          radius 0.013
                                                        }
                                                      }
                                                    ]
                                                  }
                                                ]
                                              }
                                            ]
                                            contactMaterial "leg"
                                            immersionProperties [
                                              USE IMMERSION_PROP_TIBIA
                                            ]
                                            boundingObject USE GROUP_TIBIA_4
                                            physics Physics {
                                              density -1
                                              mass 0.0045704
                                              centerOfMass [
                                                0.03 0 0
                                              ]
                                              inertiaMatrix [
                                                2.59057e-7 1.32103e-6 1.25007e-6
                                                -2.73481e-8 -1.64256e-7 -2.19008e-8
                                              ]
                                            }
                                          }
                                        ]
                                        name "leg 4"
                                        contactMaterial "body"
                                        immersionProperties [
                                          USE IMMERSION_PROP_FEMUR
                                        ]
                                        boundingObject USE GROUP_FEMUR_4
                                        physics Physics {
                                          density -1
                                          mass 0.00242371
                                          centerOfMass [
                                            0.012 0 0
                                          ]
                                          inertiaMatrix [
                                            7.57828e-8 1.99961e-7 1.99961e-7
                                            -1.03066e-13 0 0
                                          ]
                                        }
                                      }
                                    }
                                    HingeJoint {
                                      jointParameters HingeJointParameters {
                                        axis 0 1 0
                                        anchor 0 0 0.066
                                      }
                                      device [
                                        RotationalMotor {
                                          name "motor_4"
                                          minPosition -1.13446
                                          maxPosition 1.13446
                                          maxTorque 100
                                        }
                                      ]
                                      endPoint DEF SEGMENT_4 Solid {
                                        translation 0 0 0.066
                                        children [
                                          USE SMALL_SEGMENT
                                          HingeJoint {
                                            jointParameters HingeJointParameters {
                                              axis 0 1 0
                                              anchor 0 0 0.095
                                            }
                                            device [
                                              RotationalMotor {
                                                name "motor_5"
                                                minPosition -1.13446
                                                maxPosition 1.13446
                                                maxTorque 100
                                              }
                                            ]
                                            endPoint DEF SEGMENT_5 Solid {
                                              translation 0 0 0.095
                                              children [
                                                USE SMALL_SEGMENT
                                                HingeJoint {
                                                  jointParameters HingeJointParameters {
                                                    axis 0 1 0
                                                    anchor 0 0 0.095
                                                  }
                                                  device [
                                                    RotationalMotor {
                                                      name "motor_6"
                                                      minPosition -1.13446
                                                      maxPosition 1.13446
                                                      maxTorque 100
                                                    }
                                                  ]
                                                  endPoint DEF SEGMENT_6 Solid {
                                                    translation 0 0 0.095
                                                    children [
                                                      USE SMALL_SEGMENT
                                                    ]
                                                    contactMaterial "body"
                                                    immersionProperties [
                                                      DEF IMMERSION_PROP_SEGMENT ImmersionProperties {
                                                        fluidName "fluid"
                                                        referenceArea "xyz-projection"
                                                        dragForceCoefficients 3.1 1.3 0
                                                        viscousResistanceTorqueCoefficient 5
                                                      }
                                                    ]
                                                    boundingObject USE SMALL_SEGMENT
                                                    physics DEF SEGMENT_PHYSICS Physics {
                                                      density -1
                                                      mass 0.180281
                                                      centerOfMass [
                                                        0 -0.014 0.038
                                                      ]
                                                      inertiaMatrix [
                                                        0.000222864 0.000160531 0.000102659
                                                        0 0 2.70783e-5
                                                      ]
                                                    }
                                                  }
                                                }
                                              ]
                                              contactMaterial "body"
                                              immersionProperties [
                                                USE IMMERSION_PROP_SEGMENT
                                              ]
                                              boundingObject USE SMALL_SEGMENT
                                              physics USE SEGMENT_PHYSICS
                                            }
                                          }
                                        ]
                                        contactMaterial "body"
                                        immersionProperties [
                                          USE IMMERSION_PROP_SEGMENT
                                        ]
                                        boundingObject USE SMALL_SEGMENT
                                        physics USE SEGMENT_PHYSICS
                                      }
                                    }
                                  ]
                                  contactMaterial "body"
                                  immersionProperties [
                                    DEF IMMERSION_PROP_BIG_SEGMENT ImmersionProperties {
                                      fluidName "fluid"
                                      referenceArea "xyz-projection"
                                      dragForceCoefficients 1.8 0.95 0.75
                                      viscousResistanceTorqueCoefficient 5
                                    }
                                  ]
                                  boundingObject USE BIG_SEGMENT
                                  physics DEF BIG_SEGMENT_PHYSICS Physics {
                                    density -1
                                    mass 0.279137
                                    centerOfMass [
                                      0 -0.014 0.0235
                                    ]
                                    inertiaMatrix [
                                      0.000269294 0.000224459 0.000210752
                                      0 0 4.75005e-5
                                    ]
                                  }
                                }
                              }
                            ]
                            contactMaterial "body"
                            immersionProperties [
                              USE IMMERSION_PROP_SEGMENT
                            ]
                            boundingObject USE SMALL_SEGMENT
                            physics USE SEGMENT_PHYSICS
                          }
                        }
                      ]
                      contactMaterial "body"
                      immersionProperties [
                        USE IMMERSION_PROP_SEGMENT
                      ]
                      boundingObject USE SMALL_SEGMENT
                      physics USE SEGMENT_PHYSICS
                    }
                  }
                ]
                contactMaterial "body"
                immersionProperties [
                  USE IMMERSION_PROP_SEGMENT
                ]
                boundingObject USE SMALL_SEGMENT
                physics USE SEGMENT_PHYSICS
              }
            }
          ]
          contactMaterial "body"
          immersionProperties [
            USE IMMERSION_PROP_BIG_SEGMENT
          ]
          boundingObject USE BIG_SEGMENT
          physics USE BIG_SEGMENT_PHYSICS
        }
      }
    ]
    contactMaterial "body"
    immersionProperties [
      DEF IMMERSION_PROP_HEAD ImmersionProperties {
        fluidName "fluid"
        referenceArea "xyz-projection"
        dragForceCoefficients 2 1 1
        viscousResistanceTorqueCoefficient 5
      }
    ]
    boundingObject USE SMALL_SEGMENT
    physics USE SEGMENT_PHYSICS
  }
}
